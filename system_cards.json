{
  "openapi": "3.1.0",
  "info": {
    "title": "Archive API \u2013 System & Cards",
    "description": "System status, health checks, and card search functionality including autocomplete, random cards, game changers, banned cards, and mass land destruction.",
    "version": "1.1.0"
  },
  "paths": {
    "/api/v1/status": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Api Status",
        "description": "API status endpoint.",
        "operationId": "api_status_api_v1_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Api Status Api V1 Status Get"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Root",
        "description": "Root endpoint.",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Root  Get"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "Health Check",
        "description": "Health check endpoint expected by hosting environments.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Health Check Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cards/search": {
      "post": {
        "tags": [
          "cards"
        ],
        "summary": "Search Cards",
        "description": "Search for MTG cards using Scryfall API.\n\nNOTE: Scryfall returns up to 175 cards per page (fixed by Scryfall).\nThe per_page parameter limits results client-side after fetching from Scryfall.",
        "operationId": "search_cards_api_v1_cards_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CardSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/cards/autocomplete": {
      "get": {
        "tags": [
          "cards"
        ],
        "summary": "Autocomplete Card Names",
        "description": "Return card name suggestions using Scryfall autocomplete API.",
        "operationId": "autocomplete_card_names_api_v1_cards_autocomplete_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 2,
              "description": "Search query (minimum 2 characters)",
              "title": "Q"
            },
            "description": "Search query (minimum 2 characters)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AutocompleteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cards/random": {
      "get": {
        "tags": [
          "cards"
        ],
        "summary": "Get Random Card",
        "description": "Return a random card from Scryfall API.",
        "operationId": "get_random_card_api_v1_cards_random_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Card"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/cards/gamechangers": {
      "get": {
        "tags": [
          "cards"
        ],
        "summary": "Get Gamechangers",
        "description": "Get list of Commander Game Changer cards from Scryfall.\n\nReturns cards that are tagged as \"gamechanger\" on Scryfall, \nsorted by USD price in descending order.",
        "operationId": "get_gamechangers_api_v1_cards_gamechangers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GameChangerResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/cards/banned": {
      "get": {
        "tags": [
          "cards"
        ],
        "summary": "Get Banned Cards",
        "description": "Get list of banned Commander cards from Scryfall.\n\nReturns cards that are banned in the Commander format,\nsorted alphabetically by name.",
        "operationId": "get_banned_cards_api_v1_cards_banned_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BannedCardsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/cards/mass-land-destruction": {
      "get": {
        "tags": [
          "cards"
        ],
        "summary": "Get Mass Land Destruction",
        "description": "Get Mass Land Destruction cards from Scryfall matching official MLD criteria.\n\nReturns cards that match the Mass Land Denial criteria as defined by Wizards of the Coast.\nThese cards regularly destroy, exile, and bounce other lands, keep lands tapped,\nor change what mana is produced by four or more lands per player without replacing them.",
        "operationId": "get_mass_land_destruction_api_v1_cards_mass_land_destruction_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MassLandDestructionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/cards/{card_id}": {
      "get": {
        "tags": [
          "cards"
        ],
        "summary": "Get Card",
        "description": "Return a specific card by ID from Scryfall API.",
        "operationId": "get_card_api_v1_cards__card_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "card_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Card Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Card"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AutocompleteResponse": {
        "properties": {
          "object": {
            "type": "string",
            "title": "Object",
            "description": "Response object type",
            "default": "list"
          },
          "data": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Data",
            "description": "List of card name suggestions"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "AutocompleteResponse",
        "description": "Response model for autocomplete endpoint."
      },
      "BannedCardsResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Operation success status",
            "default": true
          },
          "data": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Data",
            "description": "List of banned cards"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of cards returned"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Data source",
            "default": "scryfall"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Endpoint description",
            "default": "Cards banned in Commander format"
          },
          "query": {
            "type": "string",
            "title": "Query",
            "description": "Search query used",
            "default": "banned:commander"
          },
          "order": {
            "type": "string",
            "title": "Order",
            "description": "Sort order",
            "default": "name"
          },
          "direction": {
            "type": "string",
            "title": "Direction",
            "description": "Sort direction",
            "default": "asc"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "Response timestamp"
          }
        },
        "type": "object",
        "required": [
          "data",
          "count",
          "timestamp"
        ],
        "title": "BannedCardsResponse",
        "description": "Response model for banned cards endpoint."
      },
      "Card": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "mana_cost": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mana Cost"
          },
          "cmc": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cmc"
          },
          "type_line": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Type Line"
          },
          "oracle_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oracle Text"
          },
          "power": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Power"
          },
          "toughness": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Toughness"
          },
          "loyalty": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Loyalty"
          },
          "colors": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Colors"
          },
          "color_identity": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color Identity"
          },
          "keywords": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Keywords"
          },
          "legalities": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Legalities"
          },
          "games": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Games"
          },
          "reserved": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reserved"
          },
          "foil": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Foil"
          },
          "nonfoil": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nonfoil"
          },
          "oversized": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oversized"
          },
          "promo": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Promo"
          },
          "reprint": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reprint"
          },
          "variation": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Variation"
          },
          "set_id": {
            "type": "string",
            "title": "Set Id"
          },
          "set": {
            "type": "string",
            "title": "Set"
          },
          "set_name": {
            "type": "string",
            "title": "Set Name"
          },
          "set_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Set Type"
          },
          "set_uri": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Set Uri"
          },
          "set_search_uri": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Set Search Uri"
          },
          "rulings_uri": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rulings Uri"
          },
          "prints_search_uri": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prints Search Uri"
          },
          "collector_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collector Number"
          },
          "digital": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Digital"
          },
          "rarity": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rarity"
          },
          "artist": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Artist"
          },
          "artist_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Artist Ids"
          },
          "illustration_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Illustration Id"
          },
          "border_color": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Border Color"
          },
          "frame": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Frame"
          },
          "full_art": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Full Art"
          },
          "textless": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Textless"
          },
          "booster": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Booster"
          },
          "story_spotlight": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Story Spotlight"
          },
          "edhrec_rank": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Edhrec Rank"
          },
          "penny_rank": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Penny Rank"
          },
          "prices": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "type": "number"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prices"
          },
          "related_uris": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Related Uris"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "set_id",
          "set",
          "set_name"
        ],
        "title": "Card"
      },
      "CardSearchRequest": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query"
          },
          "order": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Order",
            "default": "name"
          },
          "unique": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Unique",
            "default": "cards"
          },
          "include_extras": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Include Extras",
            "default": false
          },
          "include_multilingual": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Include Multilingual",
            "default": false
          },
          "include_foil": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Include Foil",
            "default": true
          },
          "page": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Page",
            "default": 1
          },
          "per_page": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Per Page",
            "default": 20
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "CardSearchRequest"
      },
      "CardSearchResponse": {
        "properties": {
          "object": {
            "type": "string",
            "title": "Object"
          },
          "total_cards": {
            "type": "integer",
            "title": "Total Cards"
          },
          "data": {
            "items": {
              "$ref": "#/components/schemas/Card"
            },
            "type": "array",
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "object",
          "total_cards",
          "data"
        ],
        "title": "CardSearchResponse"
      },
      "GameChangerResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Operation success status",
            "default": true
          },
          "data": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Data",
            "description": "List of game changer cards"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of cards returned"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Data source",
            "default": "scryfall"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Endpoint description",
            "default": "Commander Game Changer cards sorted by USD price"
          },
          "query": {
            "type": "string",
            "title": "Query",
            "description": "Search query used",
            "default": "is:gamechanger"
          },
          "order": {
            "type": "string",
            "title": "Order",
            "description": "Sort order",
            "default": "usd"
          },
          "direction": {
            "type": "string",
            "title": "Direction",
            "description": "Sort direction",
            "default": "desc"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "Response timestamp"
          }
        },
        "type": "object",
        "required": [
          "data",
          "count",
          "timestamp"
        ],
        "title": "GameChangerResponse",
        "description": "Response model for game changer cards endpoint."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "MassLandDestructionResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Operation success status",
            "default": true
          },
          "data": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Data",
            "description": "List of MLD cards"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of cards returned"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Data source",
            "default": "scryfall"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Endpoint description",
            "default": "Mass Land Denial cards as defined by Wizards of the Coast"
          },
          "definition": {
            "type": "string",
            "title": "Definition",
            "description": "MLD definition",
            "default": "Cards that regularly destroy, exile, and bounce other lands, keep lands tapped, or change what mana is produced by four or more lands per player without replacing them."
          },
          "note": {
            "type": "string",
            "title": "Note",
            "description": "Data source note",
            "default": "Data sourced from Scryfall using multiple search queries to match MLD criteria"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "Response timestamp"
          }
        },
        "type": "object",
        "required": [
          "data",
          "count",
          "timestamp"
        ],
        "title": "MassLandDestructionResponse",
        "description": "Response model for mass land destruction cards endpoint."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  },
  "servers": [
    {
      "url": "https://mtg-mightstone-gpt.onrender.com",
      "description": "Render production deployment"
    }
  ]
}